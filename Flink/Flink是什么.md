# Flink是什么
Apache Flink 是一个框架，是一个分布式的处理引擎，它在无界和有界的数据流上，进行有状态的计算。Flink 被设计成，可以运行在所有的通用分布式环境中，Flink是内存式计算，拥有内存计算的快速特点。

下面，我们介绍下Flink架构的重要特征

## 处理无界和有界的数据
任何类型的数据，都是以一种事件流（event stream）的方式，产生的。
信用卡交易，传感器数据，机器的日志，或者用户在网站上、手机应用上的交互操作，所有这些数据都是以流（stream）的方式产生的。

数据可以被处理成无界和有界的流。

### 无界数据流 
有一个明确的开始，但是没有明确的结束。
无界数据流，不会终止，只要有数据产生，就会一直提供。
无界数据流，必须被持续的处理，例如，事件（event）在被接收到后，必须被合理的处理。等待所有的输入数据到达，是不可能的，因为，输入数据是无界的，在任何时间点，输入都不会结束。
处理无界数据，经常需要，事件（event）以特定的顺序被接收，例如，以事件发生的顺序，这样能够推断结果的完整性。


### 有界数据流
有明确的开始和明确的结束。
有界数据流，可以先接收所有待处理的数据，然后一起再计算。
处理有界数据流的时候，并不需要顺序接收数据，因为，有界数据流，本身总是有序的。
处理有界数据流，也被称为批处理（batch processing）

Apache Flink 擅长处理无界和有界数据。
对时间和状态（state）的精准控制，使Flink可以在无界数据流上，运行任何类型的程序。  
有界数据流，被一些，专为固定数据集，设计的算法和数据结构处理，这样能有很好的性能。

### 部署应用程序
Flink 是一个分布式的系统， 为了执行程序，需要计算资源。
Flink集成了所有的，通用集群资源管理技术，例如Hadoop YARN，Apache Mesos，Kubernetes，同时，Flink也可以运行在stand-alone集群上。

Flink，被设计成和上面列出的集群管理技术，无缝兼容。
这是通过，resource-manager-specific 部署模式实现的，这种部署模式，允许Flink以它惯用的方式和每个集群资源管理交互

当部署Flink程序的时候，Flink，根据程序配置的并行度（parallelism），自动识别出需要的资源，并向资源管理器（resource manager）申请资源。如果失败，Flink申请新的资源，替换掉失败的容器（container）。
所有的提交或者控制程序的通信，都是通过REST 调用。这简化了Flink在很多环境下的整合流程。

### 在任何数据规模下运行程序
Flink被设计成，在任何数据规模下，运行有状态的流式（stateful）程序。
程序，并行化执行，可能有数千个任务（task）分布式的、并发的在集群上执行。因此，一个程序可以利用几乎所有的CPUs、内存、硬盘和网络IO。
并且，Flink很容易维护非常大的程序的状态。
Flink的异步和增量checkpointing算法，在保证exactly-once 状态一致性的前提下，减小对处理延时的影响。

用户报告了，Flink运行在上产环境中，令人印象深刻的可扩展性。
例如：

* 每天处理万亿级别事件的程序，
* 维护太字节（兆兆字节）的状态的程序，
* 运行在数千cores上的程序

### 充分利用内存性能
有状态的Flink程序，对于本地状态访问是可选的。
任务的状态（状态就是数据？），总是维护在内存中，
或者，当状态大小超过可用内存，维护在，访问高效的磁盘数据结构。

因此，任务（tasks）通过访问本地状态（本地，指的是task运行所在的节点），通常是内存状态，执行计算，具有非常低的处理延迟。

当任务失败的时候，Flink通过周期的、异步的checkpointing本地状态到持久化存储，保证exactly-once状态一致性。

![](media/Leverage_In-Memory_Performance.png)

